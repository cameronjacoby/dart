<div ng-show="seeker.seeker" class="row">
  <div class="col-sm-3"></div>

  <div class="col-sm-6">
    <h1 ng-hide="seeker.editForm">{{seeker.seeker.first_name}}'s Profile Page</h1>
    <p ng-show="seeker.updateMsg" class="success-msg">Profile updated successfully. <span ng-click="seeker.exitUpdateMsg()" class="exit">X</span></p>
    <div ng-hide="seeker.editForm">

      <!-- toggle headers based on presence of favorites -->
      <!-- favoritesToggle handles situation when last favorite is removed -->
      <h4 ng-hide="seeker.seeker.jobs" ng-show="seeker.favoritesToggle" class="no-saved-jobs">No saved jobs yet. <a href="/">Browse all jobs to start saving favorites. <span class="mini-arrow">&#10172;</span></a></h4>

      <div ng-show="seeker.seeker.jobs" ng-hide="seeker.favoritesToggle" class="favorites">
        <h3 class="saved-jobs">SAVED JOBS</h3>
        <div ng-repeat="favorite in seeker.seeker.jobs" class="job">
          <h4>
            <a href="/companies/{{favorite.company.id}}/jobs/{{favorite.id}}">{{favorite.title}}</a>
            <span ng-show="currentUser.seeker.id == seeker.seeker.id">
              <span ng-click="seeker.removeFav(currentUser.seeker, favorite)" class="glyphicon glyphicon-star star"></span>
            </span>
          </h4>
          <p class="sub-heading">
            <span class="category">{{favorite.category}}</span>
            <span class="company"><a href="/companies/{{favorite.company.id}}">{{favorite.company.name}}</a></span>
            <span>{{favorite.location}}</span>
            <span><strong><a class="details" href="/companies/{{favorite.company.id}}/jobs/{{favorite.id}}">Job Details <span class="mini-arrow">&#10172;</span></a></strong></span>
          </p>
        </div>
      </div>
      
    </div>

    <!-- edit/delete buttons -->
    <div ng-hide="seeker.editForm" class="edit-btns">
      <button ng-show="currentUser.seeker.id == seeker.seeker.id" ng-click="seeker.editSeeker()">Edit Profile</button> <button ng-show="currentUser.seeker.id == seeker.seeker.id" ng-click="seeker.deleteSeeker()">Delete Profile</button>
    </div>

    <!-- edit profile form -->
    <h2 ng-show="seeker.editForm">Edit Your Profile <span ng-click="seeker.exitEditForm()" class="exit" id="edit-exit">X</span></h2>
    <form ng-show="seeker.editForm" ng-submit="seeker.updateSeeker()" class="edit-form">
      <div class="form-group">
        <input type="text" ng-model="seeker.seeker.first_name" class="form-control" placeholder="First Name" required autofocus>
      </div>
      <div class="form-group">
        <input type="text" ng-model="seeker.seeker.last_name" class="form-control" placeholder="Last Name" required>
      </div>
      <p ng-show="seeker.emailMsg" class="error-msg">An account with that email already exists.</p>
      <div class="form-group">
        <input type="text" ng-model="seeker.seeker.user.email" class="form-control" placeholder="Email" required>
      </div>
      <div class="form-group">
        <button class="save-btn">Update Profile</button>
      </div>
    </form>

  </div>
  <div class="col-sm-3"></div>
</div>